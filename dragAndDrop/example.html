
<style type="text/css">

*[draggable] {
  display: block;
  width: 200px;
  height: 100px;
  border: 1px solid silver;
  margin: 10px;
  cursor: move;
}

.dragNode {
  position: absolute;
  cursor: copy;
  margin: 0;
  padding: 0;
  border: 1px solid silver;
  width: 48px;
  height: 48px;
  margin-left: -24px;
  margin-top: -24px;
  font-size: 12px;
  line-height: 16px;
  box-shadow: inset 0 0 24px silver, 0 0 12px gray;
  z-index: 10;
  opacity: 0.8;
  display: table;
}

.dragNode div {
  display: table-cell;
  vertical-align: middle;
  text-align: center;
}

.dragNode.not-allowed {
  cursor: not-allowed;
}

</style>

<script type="text/javascript" src="operaDragAndDrop.js"></script>
<script type="text/javascript">

document.addEventListener('dragenter', function (event) {
  if (event.target.className == 'dropzone') {
    event.preventDefault();
    event.target.style.border = '1px solid red';
  }
}, false);

document.addEventListener('dragleave', function (event) {
  if (event.target.className == 'dropzone') {
    event.preventDefault();
    event.target.style.border = '1px solid blue';
  }
}, false);


document.addEventListener('drop', function (event) {
  if (event.target.className == 'dropzone') {
    event.preventDefault();
    event.target.innerHTML = event.dataTransfer.getData('Text');
	event.target.style.border = '1px solid blue';
    //event.target.style.border = '2px solid red';
  }
}, false);

document.addEventListener('dragover', function (event) {
  if (event.target.className == 'dropzone') {
    event.preventDefault();
  }
}, false);

document.addEventListener('dragstart', function (event) {
  if (event.target.tagName.toLowerCase() !== 'img' && event.target.tagName.toLowerCase() !== 'a') {
    event.dataTransfer.setData('Text', event.target.getAttribute('data-x'));
    event.dataTransfer.setDragImage(document.querySelector('img'), 0, 0);
  } else {

  }
}, false);

setTimeout(function () {
  var d = document.querySelector('#dragme');
  d.addEventListener('click', function () {
    alert('clicked!');
  }, false);
}, 1);

</script>
<a href="/asdf?sd">test url</a>
<img src="https://developer.mozilla.org/@api/deki/files/80/=Canvas_drawimage2.jpg" />
<img src="default.jpeg" />
<div class="dropzone" style="border:1px solid blue;width: 400px; height: 50px;">dropzone</div>
<div draggable="true" data-x="12345" class="dropzone" style="border:1px solid blue;width: 400px; height: 50px;">dropzone</div>
<div draggable="true" id="dragme" data-x="!!! dropped" style="background:#eee">draggaple</div>
